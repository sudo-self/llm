<!-- index.html -->

<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="AI Chat Assistant powered by Cloudflare Workers AI">

  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/manifest.json" />

  <title>AI Assistant | ai.jessejesse.com</title>

  <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-typescript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-css.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markup.min.js"></script>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <style>
    :root {
      --primary: #f97316;
      --primary-dark: #ea580c;
      --bg-dark: #0f172a;
      --bg-darker: #020617;
      --bg-light: #ffffff;
      --bg-lighter: #f8fafc;
      --text-dark: #f1f5f9;
      --text-light: #1e293b;
      --border-dark: #334155;
      --border-light: #e2e8f0;
      --success: #10b981;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
      color: var(--text-dark);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
      line-height:1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    body.light-mode {
      background: linear-gradient(135deg, var(--bg-lighter) 0%, var(--bg-light) 100%);
      color: var(--text-light);
    }

    header { /* sticky header */ background: rgba(15,23,42,0.8); backdrop-filter: blur(20px); border-bottom:1px solid var(--border-dark); padding:1rem 1.5rem; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:100; }
    body.light-mode header { background: rgba(255,255,255,0.8); border-bottom:1px solid var(--border-light); }

    .logo { display:flex; align-items:center; gap:0.75rem; }
    .logo-icon { width:32px; height:32px; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); border-radius:8px; display:flex; align-items:center; justify-content:center; color:white; font-size:0.875rem; font-weight:600; }
    .logo-text { display:flex; flex-direction:column; }
    .logo-title { font-weight:700; color: var(--primary); font-size:1.25rem; }
    .logo-subtitle { font-size:0.75rem; opacity:0.7; margin-top:-2px; }

    .header-actions { display:flex; align-items:center; gap:0.5rem; }
    .icon-btn { background: rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2); color: var(--text-dark); padding:0.5rem; border-radius:8px; transition: all 0.2s ease; display:flex; align-items:center; justify-content:center; }
    body.light-mode .icon-btn { background: rgba(0,0,0,0.05); border:1px solid var(--border-light); color: var(--text-light); }
    .icon-btn:hover { background: var(--primary); border-color: var(--primary); color:white; transform:translateY(-1px); }

    .chat-container { max-width:800px; margin:0 auto; height:calc(100vh - 120px); display:flex; flex-direction:column; background:transparent; }
    .chat-messages { flex:1; overflow-y:auto; padding:1.5rem; display:flex; flex-direction:column; gap:1rem; }

    .message { max-width:85%; padding:1rem 1.25rem; border-radius:1.25rem; margin:0.25rem 0; word-wrap:break-word; line-height:1.6; opacity:0; transform: translateY(10px); transition: all 0.3s ease; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
    .message.visible { opacity:1; transform:translateY(0); }
    .user-message { align-self:flex-end; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color:white; border-bottom-right-radius:0.5rem; }
    .assistant-message { align-self:flex-start; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.1); color: var(--text-dark); border-bottom-left-radius:0.5rem; position: relative; }
    body.light-mode .assistant-message { background: rgba(255,255,255,0.9); border:1px solid var(--border-light); color: var(--text-light); }

    /* Streaming shimmer + dots */
    .message.streaming { background: linear-gradient(90deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.15) 100%); background-size: 200% 100%; animation: streaming-shimmer 1.5s linear infinite; }
    @keyframes streaming-shimmer { 0% { background-position:200% 0; } 100% { background-position:-200% 0; } }

    .assistant-message .streaming-dots { display:flex; gap:0.25rem; margin-top:4px; }
    .assistant-message .streaming-dot { width:6px; height:6px; background: var(--primary); border-radius:50%; animation: typing-bounce 1.4s infinite ease-in-out; }
    .assistant-message .streaming-dot:nth-child(1) { animation-delay:-0.32s; }
    .assistant-message .streaming-dot:nth-child(2) { animation-delay:-0.16s; }
    .assistant-message .streaming-dot:nth-child(3) { animation-delay:0s; }

    @keyframes typing-bounce { 0%,80%,100% { transform:scale(0.8); opacity:0.5; } 40% { transform:scale(1); opacity:1; } }

    .message-input-container { background: rgba(15,23,42,0.8); backdrop-filter:blur(20px); border-top:1px solid var(--border-dark); padding:1.5rem; position:sticky; bottom:0; }
    body.light-mode .message-input-container { background: rgba(255,255,255,0.8); border-top:1px solid var(--border-light); }

    .message-input-wrapper { display:flex; gap:0.75rem; align-items:flex-end; max-width:800px; margin:0 auto; }
    #user-input { background: rgba(255,255,255,0.1); border:2px solid transparent; color: var(--text-dark); border-radius:1.5rem; padding:1rem 1.25rem; font-size:1rem; line-height:1.5; resize:none; max-height:120px; flex:1; transition:all 0.2s ease; backdrop-filter: blur(10px); }
    body.light-mode #user-input { background: rgba(0,0,0,0.05); color: var(--text-light); }
    #user-input:focus { outline:none; border-color: var(--primary); background: rgba(255,255,255,0.15); box-shadow: 0 0 0 3px rgba(249,115,22,0.1); }
    body.light-mode #user-input:focus { background: rgba(255,255,255,0.9); }

    #send-button { background: var(--primary); color:white; border:none; border-radius:50%; width:48px; height:48px; display:flex; align-items:center; justify-content:center; transition: all 0.2s ease; cursor:pointer; opacity:0.6; }
    #send-button.enabled { opacity:1; transform: scale(1.05); }
    #send-button:hover:not(:disabled) { background: var(--primary-dark); transform: scale(1.1); }
    #send-button:active { transform: scale(0.95); }

    #typing-indicator { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-top:1px solid var(--border-dark); padding:1rem 1.5rem; display:flex; align-items:center; gap:0.75rem; opacity:0; transition: opacity 0.3s ease; }
    #typing-indicator.visible { opacity:1; }

    footer { background: rgba(15,23,42,0.8); backdrop-filter: blur(20px); border-top:1px solid var(--border-dark); padding:1rem; text-align:center; }
    body.light-mode footer { background: rgba(255,255,255,0.8); border-top:1px solid var(--border-light); }
    .footer-link { color: var(--primary); text-decoration:none; font-weight:500; transition: color 0.2s ease; }
    .footer-link:hover { color: var(--primary-dark); }

  </style>
</head>

<body class="flex flex-col min-h-screen">
  <!-- Header -->
  <header>
    <div class="logo">
      <div class="logo-icon"><i class="fas fa-robot"></i></div>
      <div class="logo-text">
        <div class="logo-title">Workers AI</div>
        <div class="logo-subtitle">LLaMa-3.3 70B</div>
      </div>
    </div>
    <div class="header-actions">
      <a href="https://github.com/sudo-self/llm" target="_blank" class="icon-btn" title="View Source Code"><i class="fab fa-github"></i></a>
      <a href="https://developers.cloudflare.com/workers-ai/" target="_blank" class="icon-btn" title="Cloudflare Workers AI"><i class="fas fa-cloud"></i></a>
      <a href="https://iconic.jessejesse.xyz" target="_blank" class="icon-btn" title="AI Image Generation"><i class="fas fa-image"></i></a>
      <button id="theme-toggle" class="icon-btn" title="Toggle Theme"><i class="fas fa-moon"></i></button>
    </div>
  </header>

  <!-- Chat -->
  <main class="flex-1">
    <div class="chat-container">
      <div id="chat-messages" class="chat-messages"></div>

      <div id="typing-indicator">
        <div class="logo-icon" style="width:24px; height:24px; font-size:0.75rem;"><i class="fas fa-robot"></i></div>
        <span class="text-sm font-medium">Thinking</span>
        <div class="typing-dots">
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
      </div>

      <div class="message-input-container">
        <div class="message-input-wrapper">
          <textarea id="user-input" placeholder="Ask me anything..." rows="1"></textarea>
          <button id="send-button" disabled><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="text-sm text-orange-500">
      made with <i class="fas fa-heart mx-1" style="color:#ef4444;"></i>
      <a href="https://jessejesse.com" class="footer-link">JesseJesse.com</a>
    </div>
  </footer>

  <script>
    
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = themeToggle.querySelector('i');
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'light') { document.body.classList.add('light-mode'); themeIcon.classList.replace('fa-moon','fa-sun'); }

    themeToggle.addEventListener('click', () => {
      const isLight = document.body.classList.toggle('light-mode');
      themeIcon.classList.toggle('fa-moon', !isLight);
      themeIcon.classList.toggle('fa-sun', isLight);
      localStorage.setItem('theme', isLight ? 'light':'dark');
      themeToggle.style.transform='scale(0.95)';
      setTimeout(()=>themeToggle.style.transform='scale(1)',150);
    });

    document.addEventListener('DOMContentLoaded', () => {
      document.body.style.opacity='0';
      document.body.style.transition='opacity 0.3s ease';
      setTimeout(()=>document.body.style.opacity='1',100);
    });
  </script>

  <script src="/chat.js" defer></script>
</body>
</html>















